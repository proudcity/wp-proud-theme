{"version":3,"file":"main.min.js","sources":["../../assets/scripts/main.js"],"sourcesContent":["/* ========================================================================\n * DOM-based Routing\n * Based on http://goo.gl/EUTi53 by Paul Irish\n *\n * Only fires on body classes that match. If a body class contains a dash,\n * replace the dash with an underscore when adding it to the object below.\n *\n * .noConflict()\n * The routing is enclosed within an anonymous function so that you can\n * always reference jQuery with $, even when in .noConflict() mode.\n * ======================================================================== */\n\n(function ($) {\n  // Use this variable to set up the common and page specific functions. If you\n  // rename this variable, you will also need to rename the namespace below.\n  var ProudTheme = {\n    // All pages\n    common: {\n      init: function () {\n        // JavaScript to be fired on all pages\n        var $body = $(\"body\");\n\n        // Agency/subpage off-canvas\n        $(\"#offcanvas-toggle\").on(\"click\", function (e) {\n          $(\"body\").toggleClass(\"offcanvas-active\");\n          $(this).toggleClass(\"active\");\n          e.preventDefault();\n        });\n\n        // Poor man's scrollspy for header\n        var userHasScrolled = false;\n        // Calculate width of logo\n        var $navLogo = $(\"#logo-menu > .nav-logo\");\n        var modWidth = parseInt($navLogo.css(\"width\"), 10) - 12;\n        var scrollCompare = $body.hasClass(\"proud-navbar-topbar-active\")\n          ? 50\n          : 10;\n\n        window.onscroll = function () {\n          if (\n            typeof pageYOffset != \"undefined\" &&\n            pageYOffset <= scrollCompare\n          ) {\n            $(\"body\").removeClass(\"scrolled\");\n            userHasScrolled = false;\n            $navLogo.css({ \"margin-left\": 0 });\n          } else if (!userHasScrolled) {\n            userHasScrolled = true;\n            $(\"body\").addClass(\"scrolled\");\n            $navLogo.css({ \"margin-left\": -modWidth + \"px\" });\n          }\n        };\n\n        // Allow nav + footer-actions dropdowns\n        $(\".btn-toolbar .dropdown-menu, .footer-actions .dropdown-menu\").click(\n          function (e) {\n            console.log( 'main.js line 57')\n            e.stopPropagation();\n          }\n        );\n        // Open external links in a new tab?\n        if (\n          Proud.settings.global != undefined &&\n          Proud.settings.global.external_link_window\n        ) {\n          // @TODO move to core?\n          // Save external link regex\n          Proud.settings.global.external_regex = new RegExp(\n            window.location.host + \"|mailto:|tel:|javascript:\"\n          );\n          $(\"a\").each(function () {\n            if (\n              this.href &&\n              !Proud.settings.global.external_regex.test(this.href) &&\n              !$(this).hasClass(\"same-window\")\n            ) {\n              $(this).click(function (event) {\n                console.log( 'main.js line 78' );\n                console.log('preventingDefault');\n                event.preventDefault();\n                event.stopPropagation();\n                window.open(this.href, \"_blank\");\n              });\n            }\n          });\n        }\n\n        // Hide header if this appears in an iFrame (for mobile app/kiosk)\n        if (window.self !== window.top) {\n          $body.attr(\"id\", \"in-iframe\");\n        }\n        //@todo rm\n        //$('body').attr('id', 'in-iframe');\n\n        // @ TODO remove or fix my.getproudcity\n        // Link admin_bar logo to proudcity.com\n        // if (Proud.settings.global.proudcity_dashboard) {\n        //   $('#wp-admin-bar-wp-logo .ab-item').attr( 'href', Proud.settings.global.proudcity_dashboard + '/stats/' + Proud.settings.global.proudcity_site_id );\n        // }\n      },\n      finalize: function () {\n        // JavaScript to be fired on all pages, after page specific JS is fired\n        $(\".jsn-bootstrap3 + p:empty\").remove();\n      },\n    },\n    // Home page\n    home: {\n      init: function () {\n        // JavaScript to be fired on the home page\n      },\n      finalize: function () {\n        // JavaScript to be fired on the home page, after the init JS\n      },\n    },\n    // About us page, note the change from about-us to about_us.\n    about_us: {\n      init: function () {\n        // JavaScript to be fired on the about us page\n      },\n    },\n  };\n\n  // The routing fires all common scripts, followed by the page specific scripts.\n  // Add additional events for more control over timing e.g. a finalize event\n  var UTIL = {\n    fire: function (func, funcname, args) {\n      var fire;\n      var namespace = ProudTheme;\n      funcname = funcname === undefined ? \"init\" : funcname;\n      fire = func !== \"\";\n      fire = fire && namespace[func];\n      fire = fire && typeof namespace[func][funcname] === \"function\";\n\n      if (fire) {\n        namespace[func][funcname](args);\n      }\n    },\n    loadEvents: function () {\n      // Fire common init JS\n      UTIL.fire(\"common\");\n\n      // Fire page-specific init JS, and then finalize JS\n      $.each(document.body.className.replace(/-/g, \"_\").split(/\\s+/), function (\n        i,\n        classnm\n      ) {\n        UTIL.fire(classnm);\n        UTIL.fire(classnm, \"finalize\");\n      });\n\n      // Fire common finalize JS\n      UTIL.fire(\"common\", \"finalize\");\n    },\n  };\n\n  // Load Events\n  $(document).ready(UTIL.loadEvents);\n})(jQuery); // Fully reference jQuery after this point.\n"],"names":["$","ProudTheme","UTIL","jQuery","common","init","$body","on","e","toggleClass","this","preventDefault","userHasScrolled","$navLogo","modWidth","parseInt","css","scrollCompare","hasClass","window","onscroll","pageYOffset","removeClass","addClass","click","console","log","stopPropagation","Proud","settings","global","external_link_window","external_regex","RegExp","location","host","each","href","test","event","open","self","top","attr","finalize","remove","home","about_us","fire","func","funcname","args","namespace","loadEvents","document","body","className","replace","split","i","classnm","ready"],"mappings":"AAYC,IAAUA,EAGLC,EA6GAC,EAhHKF,EAiJRG,OA9IGF,EAAa,CAEfG,OAAQ,CACNC,KAAM,WAEJ,IAAIC,EAAQN,EAAE,QAGdA,EAAE,qBAAqBO,GAAG,QAAS,SAAUC,GAC3CR,EAAE,QAAQS,YAAY,oBACtBT,EAAEU,MAAMD,YAAY,UACpBD,EAAEG,gBACJ,GAGA,IAAIC,GAAkB,EAElBC,EAAWb,EAAE,0BACbc,EAAWC,SAASF,EAASG,IAAI,SAAU,IAAM,GACjDC,EAAgBX,EAAMY,SAAS,8BAC/B,GACA,GAEJC,OAAOC,SAAW,WAEQ,oBAAfC,aACPA,aAAeJ,GAEfjB,EAAE,QAAQsB,YAAY,YACtBV,GAAkB,EAClBC,EAASG,IAAI,CAAE,cAAe,KACpBJ,IACVA,GAAkB,EAClBZ,EAAE,QAAQuB,SAAS,YACnBV,EAASG,IAAI,CAAE,eAAgBF,EAAW,OAE9C,EAGAd,EAAE,+DAA+DwB,MAC/D,SAAUhB,GACRiB,QAAQC,IAAK,mBACblB,EAAEmB,iBACJ,GAIyB,MAAzBC,MAAMC,SAASC,QACfF,MAAMC,SAASC,OAAOC,uBAItBH,MAAMC,SAASC,OAAOE,eAAiB,IAAIC,OACzCd,OAAOe,SAASC,KAAO,6BAEzBnC,EAAE,KAAKoC,KAAK,YAER1B,KAAK2B,MACJT,MAAMC,SAASC,OAAOE,eAAeM,KAAK5B,KAAK2B,OAC/CrC,EAAEU,MAAMQ,SAAS,gBAElBlB,EAAEU,MAAMc,MAAM,SAAUe,GACtBd,QAAQC,IAAK,mBACbD,QAAQC,IAAI,qBACZa,EAAM5B,iBACN4B,EAAMZ,kBACNR,OAAOqB,KAAK9B,KAAK2B,KAAM,SACzB,EAEJ,IAIElB,OAAOsB,OAAStB,OAAOuB,KACzBpC,EAAMqC,KAAK,KAAM,YAUrB,EACAC,SAAU,WAER5C,EAAE,6BAA6B6C,QACjC,GAGFC,KAAM,CACJzC,KAAM,WAEN,EACAuC,SAAU,WAEV,GAGFG,SAAU,CACR1C,KAAM,WAEN,IAMAH,EAAO,CACT8C,KAAM,SAAUC,EAAMC,EAAUC,GAC9B,IACIC,EAAYnD,EAChBiD,WAAWA,EAAyB,OAASA,EAC7B,KAATD,GACQG,EAAUH,IAC2B,mBAA9BG,EAAUH,GAAMC,IAGpCE,EAAUH,GAAMC,GAAUC,EAE9B,EACAE,WAAY,WAEVnD,EAAK8C,KAAK,UAGVhD,EAAEoC,KAAKkB,SAASC,KAAKC,UAAUC,QAAQ,KAAM,KAAKC,MAAM,OAAQ,SAC9DC,EACAC,GAEA1D,EAAK8C,KAAKY,GACV1D,EAAK8C,KAAKY,EAAS,WACrB,GAGA1D,EAAK8C,KAAK,SAAU,WACtB,GAIFhD,EAAEsD,UAAUO,MAAM3D,EAAKmD"}